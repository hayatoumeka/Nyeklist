<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: auto;
            padding: 20px;
            background: #1e1e1e;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }
        h2 {
            text-align: center;
            color: #ffffff;
        }
        .dropdowns {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }
        .section {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        label {
            font-size: 14px;
            margin-bottom: 5px;
        }
        select {
            padding: 8px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            text-align: center;
        }
        #company { background-color: #228B22; color: white; }
        #ahj { background-color: #B22222; color: white; }
        #state { background-color: #FFD700; color: black; }
        #utility { background-color: #1E90FF; color: white; }
        #interconnection { background-color: #FF8C00; color: white; }
        .checklist-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        .checklist-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .company-text { color: #32CD32; }
        .ahj-text { color: #FF6347; }
        .utility-text { color: #1E90FF; }
        .state-text { color: #FFD700; }
        .interconnection-text { color: #FF8C00; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Checklist</h2>
        
        <div class="dropdowns">
            <div class="section">
                <label for="company">Company:</label>
                <select id="company" onchange="updateCompanyPractices()">
                    <option selected disabled>COMPANY</option>
                    <option value="CITADEL">CITADEL</option>
                    <option value="NORTH VALLEY">NORTH VALLEY</option>
                </select>
            </div>
            <div class="section">
                <label for="ahj">AHJ:</label>
                <select id="ahj" onchange="updateAHJRequirements()">
                    <option selected disabled>AHJ</option>
                    <option value="Fresno">Fresno</option>
                    <option value="San Diego">San Diego</option>
                </select>
            </div>
            <div class="section">
                <label for="state">State:</label>
                <select id="state">
                    <option selected disabled>STATE</option>
                    <option value="CA">California</option>
                    <option value="TX">Texas</option>
                </select>
            </div>
            <div class="section">
                <label for="utility">Utility:</label>
                <select id="utility" onchange="updateUtilityRequirements()">
                    <option selected disabled>UTILITY</option>
                    <option value="PG&E">PG&E</option>
                    <option value="SCE">SCE</option>
                </select>
            </div>
            <div class="section">
                <label for="interconnection">Interconnection:</label>
                <select id="interconnection">
                    <option selected disabled>INTERCONNECTION</option>
                    <option value="NET METERING">Net Metering</option>
                </select>
            </div>
        </div>
        
        <div class="section">
            <h3>Company Best Practices</h3>
            <div id="company-best-practices" class="checklist-container"></div>
        </div>

        <div class="section">
            <h3>Checklist</h3>
            <div id="checklist" class="checklist-container"></div>
        </div>
    </div>

    <script>
        function updateCompanyPractices() {
            const company = document.getElementById("company").value;
            fetch("company_best_practices.json")
                .then(response => response.json())
                .then(data => {
                    const section = document.getElementById("company-best-practices");
                    section.innerHTML = "";
                    if (data[company]) {
                        data[company].forEach(item => {
                            const label = document.createElement("label");
                            label.classList.add("company-text", "checklist-item");
                            const checkbox = document.createElement("input");
                            checkbox.type = "checkbox";
                            label.appendChild(checkbox);
                            label.appendChild(document.createTextNode(item));
                            section.appendChild(label);
                        });
                    }
                });
        }

        function updateAHJRequirements() {
            const ahj = document.getElementById("ahj").value;
            fetch("ahj_requirements.json")
                .then(response => response.json())
                .then(data => {
                    const checklist = document.getElementById("checklist");
                    checklist.innerHTML = "";
                    if (data[ahj]) {
                        data[ahj].forEach(item => {
                            const label = document.createElement("label");
                            label.classList.add("ahj-text", "checklist-item");
                            const checkbox = document.createElement("input");
                            checkbox.type = "checkbox";
                            label.appendChild(checkbox);
                            label.appendChild(document.createTextNode(item));
                            checklist.appendChild(label);
                        });
                    }
                });
        }
    </script>
</body>
</html>
